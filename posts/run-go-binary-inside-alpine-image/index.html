<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Phenomenon /app # ./ngapost2md --help /bin/sh: ./ngapost2md: not found Identify The Issue /app # ldd ngapost2md /lib64/ld-linux-x86-64.so.2 (0x7f010de40000) Error loading shared library libresolv.so.2: No such file or directory (needed by ngapost2md) libpthread.so.0 => /lib64/ld-linux-x86-64.so.2 (0x7f010de40000) libc.so.6 => /lib64/ld-linux-x86-64.so.2 (0x7f010de40000) ldd - print shared object dependencies
It seems like libresolv is missing, which is included by gcompat and should be added to Dockerfile:
RUN apk add gcompat Avoid The Issue Build go binary with CGO_ENABLED=0 can possibly avoid this issue."><meta property="og:title" content="Run Go Binary Inside Alpine Image"><meta property="og:description" content="Phenomenon /app # ./ngapost2md --help /bin/sh: ./ngapost2md: not found Identify The Issue /app # ldd ngapost2md /lib64/ld-linux-x86-64.so.2 (0x7f010de40000) Error loading shared library libresolv.so.2: No such file or directory (needed by ngapost2md) libpthread.so.0 => /lib64/ld-linux-x86-64.so.2 (0x7f010de40000) libc.so.6 => /lib64/ld-linux-x86-64.so.2 (0x7f010de40000) ldd - print shared object dependencies
It seems like libresolv is missing, which is included by gcompat and should be added to Dockerfile:
RUN apk add gcompat Avoid The Issue Build go binary with CGO_ENABLED=0 can possibly avoid this issue."><meta property="og:type" content="article"><meta property="og:url" content="/posts/run-go-binary-inside-alpine-image/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-19T14:39:42+08:00"><meta property="article:modified_time" content="2024-10-19T14:39:42+08:00"><title>Run Go Binary Inside Alpine Image</title><link rel=canonical href=/posts/run-go-binary-inside-alpine-image/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-66839894-6"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-66839894-6")</script><style type=text/css>pre{width:100%;overflow:hidden}img{max-width:90%}h2{color:#b3befe;text-transform:uppercase;font-family:fangsong,sans-serif}a{color:#aaa;text-decoration:none}a:hover{text-decoration:underline}ul{padding:0 8px}li.post-item{color:#6b6f84;list-style:none}li.post-item .meta{font-size:85%;padding-right:6px;font-family:monospace;display:inline-block;width:7em;text-align:right}li.post-item a{font-family:monospace;font-size:110%;color:#b3befe}li.post-item.no-bullet{padding-top:8px}body{background-color:#333;color:#eee}pre{background-color:#272822}code{max-width:98%;text-wrap-mode:wrap}footer{color:#555}header h1{text-transform:uppercase;font-family:fangsong,sans-serif;border-left:3px solid #3facfe;color:rgba(255,255,255,.8);display:inline-block;margin:2px;padding:0 8px}</style></head><body lang><section class="main post"><div class=container><div class=content><div class=front-matter><div class=title-container><h2>Run Go Binary Inside Alpine Image</h2></div><div class=meta><div class=date title='Sat Oct 19 2024 14:39:42 +0800'>Oct 19, 2024</div><div class=reading-time><div class=middot></div></div></div></div><div class=markdown><h1 id=phenomenon>Phenomenon</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/app <span style=color:#75715e># ./ngapost2md --help</span>
</span></span><span style=display:flex><span>/bin/sh: ./ngapost2md: not found
</span></span></code></pre></div><h1 id=identify-the-issue>Identify The Issue</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/app <span style=color:#75715e># ldd ngapost2md</span>
</span></span><span style=display:flex><span>        /lib64/ld-linux-x86-64.so.2 <span style=color:#f92672>(</span>0x7f010de40000<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Error loading shared library libresolv.so.2: No such file or directory <span style=color:#f92672>(</span>needed by ngapost2md<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        libpthread.so.0 <span style=color:#f92672>=</span>&gt; /lib64/ld-linux-x86-64.so.2 <span style=color:#f92672>(</span>0x7f010de40000<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        libc.so.6 <span style=color:#f92672>=</span>&gt; /lib64/ld-linux-x86-64.so.2 <span style=color:#f92672>(</span>0x7f010de40000<span style=color:#f92672>)</span>
</span></span></code></pre></div><blockquote><p>ldd - print shared object dependencies</p></blockquote><p>It seems like libresolv is missing, which is included by gcompat and should be added to Dockerfile:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>RUN</span> apk add gcompat<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h1 id=avoid-the-issue>Avoid The Issue</h1><p>Build go binary with <code>CGO_ENABLED=0</code> can possibly avoid this issue.</p><br><p class=back-to-posts><a href=/>[back]</a></p></div><br></div></div></section>