<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Class variable class Network def self.get(url, options) @@result = :test_result end end Instance variable class Network def self.get(url, options) @result = :test_result end end Temporary attribute on ApplicationRecord class Tester < ApplicationRecord attr_accessor :name # for read and write end Method nameing def available? end def update! end Class method class User def self.validate! end end class User class << self def validate! end end end def User.validate! end User.validate! Rewrite class SubAccount < ApplicationRecord attr_reader :password # provide instance variable with getter only def password=(val) self."><meta property="og:title" content="Ruby Lang"><meta property="og:description" content="Class variable class Network def self.get(url, options) @@result = :test_result end end Instance variable class Network def self.get(url, options) @result = :test_result end end Temporary attribute on ApplicationRecord class Tester < ApplicationRecord attr_accessor :name # for read and write end Method nameing def available? end def update! end Class method class User def self.validate! end end class User class << self def validate! end end end def User.validate! end User.validate! Rewrite class SubAccount < ApplicationRecord attr_reader :password # provide instance variable with getter only def password=(val) self."><meta property="og:type" content="article"><meta property="og:url" content="/posts/tips-in-ruby/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-02-08T19:01:22+08:00"><meta property="article:modified_time" content="2017-02-08T19:01:22+08:00"><title>Ruby Lang</title><link rel=canonical href=/posts/tips-in-ruby/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-66839894-6"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-66839894-6")</script><style type=text/css>pre{width:100%;overflow:hidden}img{max-width:90%}h2{color:#b3befe}a{color:#aaa;text-decoration:none}a:hover{text-decoration:underline}li.post-item{color:#6b6f84}li.post-item .meta{font-size:85%;padding-right:2px}li.post-item a{font-family:monospace;font-size:110%;color:#b3befe}body{background-color:#333;color:#eee}pre{background-color:#272822}code{max-width:98%;text-wrap-mode:wrap}footer{color:#555}header h1{text-transform:uppercase;font-family:monospace;background:#3facfe;color:rgba(255,255,255,.8);display:inline-block;margin:2px;padding:0 8px}</style></head><body lang><section class="main post"><div class=container><div class=content><div class=front-matter><div class=title-container><h2>Ruby Lang</h2></div><div class=meta><div class=date title='Wed Feb 8 2017 19:01:22 +0800'>Feb 8, 2017</div><div class=reading-time><div class=middot></div></div></div></div><div class=markdown><h3 id=class-variable>Class variable</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Network</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>self</span><span style=color:#f92672>.</span><span style=color:#a6e22e>get</span>(url, options)
</span></span><span style=display:flex><span>    @@result <span style=color:#f92672>=</span> <span style=color:#e6db74>:test_result</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=instance-variable>Instance variable</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Network</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>self</span><span style=color:#f92672>.</span><span style=color:#a6e22e>get</span>(url, options)
</span></span><span style=display:flex><span>    @result <span style=color:#f92672>=</span> <span style=color:#e6db74>:test_result</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=temporary-attribute-on-applicationrecord>Temporary attribute on ApplicationRecord</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Tester</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>ApplicationRecord</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>attr_accessor</span> <span style=color:#e6db74>:name</span>  <span style=color:#75715e># for read and write</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=method-nameing>Method nameing</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>available?</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>update!</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=class-method>Class method</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>self</span><span style=color:#f92672>.</span><span style=color:#a6e22e>validate!</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>class</span> <span style=color:#f92672>&lt;&lt;</span> self
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>validate!</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>User</span><span style=color:#f92672>.</span><span style=color:#a6e22e>validate!</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>User</span><span style=color:#f92672>.</span>validate!
</span></span></code></pre></div><h3 id=rewrite>Rewrite</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SubAccount</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>ApplicationRecord</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>attr_reader</span> <span style=color:#e6db74>:password</span>  <span style=color:#75715e># provide instance variable with getter only</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>password</span><span style=color:#f92672>=</span>(val)
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>password_digest <span style=color:#f92672>=</span> <span style=color:#66d9ef>Digest</span><span style=color:#f92672>::</span><span style=color:#66d9ef>SHA1</span><span style=color:#f92672>.</span>hexdigest(val)
</span></span><span style=display:flex><span>    @password <span style=color:#f92672>=</span> val
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><br><p class=back-to-posts><a href=/>[back]</a></p></div><br></div></div></section>