<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="以下内容恢复自 Wordpress 时期的数据库备份，内容已经严重过期，仅留作纪念。
话说我碰巧在 5d6d 子论坛看到个很牛的 Ajax 评论提交效果，显示非常好，与一般提交几乎一样呢。所以立马开始动手折腾。不过具体折腾内容我只能透露一部分额，不然影响原作者的销售就不好了。
<img src='http://www.evlos.org/ev-box/myimg/uploads/Cap0000535.png' />
部分 Zbench 的 CSS 修正 上次的修改还是没有达到我心中的完美样式，所以咱们继续补充，添加 Wp-pagenavi 的 CSS 代码。
.wp-pagenavi .page{padding:0 4px;} .wp-pagenavi .pages{padding-right:5px} .wp-pagenavi .current{padding:0 4px;} .wp-pagenavi .nextpostslink{padding:0 4px;} .wp-pagenavi .larger{} .wp-pagenavi .last{padding:0 5px;} //补上 Wp-pagenavi 插件的 CSS .post .entry img{position:relative;left:-2px;} //文章中图片整体向左偏移 2px #footer-inside #back-to-top{position:absolute;top:5px;right:10px;font-size:12px;border:none;color:#AAA;} //TOP按键向右偏移 20px Ajax 效果预览 标题下方的图片是进行 AJAX 提交之后的效果图，看起来和无 AJAX 提交的时候的效果几乎一摸一样。 下面则是点击提交按键之后的效果。
<img src='http://www.evlos.org/ev-box/myimg/uploads/Cap0000534.png' />
添加 Ajax 效果的部分步骤 我只能透露一部分的修改过程，需要的童鞋请到 <a target='_blank' rel='nofollow' href='http://zww.me/'>Zww 的淘宝店去看看，那里有提供服务。"><meta property="og:title" content="成功把 Ajax 提交评论效果添加到 Zbench"><meta property="og:description" content="以下内容恢复自 Wordpress 时期的数据库备份，内容已经严重过期，仅留作纪念。
话说我碰巧在 5d6d 子论坛看到个很牛的 Ajax 评论提交效果，显示非常好，与一般提交几乎一样呢。所以立马开始动手折腾。不过具体折腾内容我只能透露一部分额，不然影响原作者的销售就不好了。
<img src='http://www.evlos.org/ev-box/myimg/uploads/Cap0000535.png' />
部分 Zbench 的 CSS 修正 上次的修改还是没有达到我心中的完美样式，所以咱们继续补充，添加 Wp-pagenavi 的 CSS 代码。
.wp-pagenavi .page{padding:0 4px;} .wp-pagenavi .pages{padding-right:5px} .wp-pagenavi .current{padding:0 4px;} .wp-pagenavi .nextpostslink{padding:0 4px;} .wp-pagenavi .larger{} .wp-pagenavi .last{padding:0 5px;} //补上 Wp-pagenavi 插件的 CSS .post .entry img{position:relative;left:-2px;} //文章中图片整体向左偏移 2px #footer-inside #back-to-top{position:absolute;top:5px;right:10px;font-size:12px;border:none;color:#AAA;} //TOP按键向右偏移 20px Ajax 效果预览 标题下方的图片是进行 AJAX 提交之后的效果图，看起来和无 AJAX 提交的时候的效果几乎一摸一样。 下面则是点击提交按键之后的效果。
<img src='http://www.evlos.org/ev-box/myimg/uploads/Cap0000534.png' />
添加 Ajax 效果的部分步骤 我只能透露一部分的修改过程，需要的童鞋请到 <a target='_blank' rel='nofollow' href='http://zww.me/'>Zww 的淘宝店去看看，那里有提供服务。"><meta property="og:type" content="article"><meta property="og:url" content="/posts/1966_add-ajax-comment-to-zbench/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-07-22T02:05:25+08:00"><meta property="article:modified_time" content="2010-07-22T02:05:25+08:00"><title>成功把 Ajax 提交评论效果添加到 Zbench</title><link rel=canonical href=/posts/1966_add-ajax-comment-to-zbench/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-66839894-6"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-66839894-6")</script><style type=text/css>pre{width:100%;overflow:hidden}img{max-width:90%}h2{color:#b3befe;text-transform:uppercase;font-family:fangsong,sans-serif}a{color:#aaa;text-decoration:none}a:hover{text-decoration:underline}ul{padding:0 8px}li.post-item{color:#6b6f84;list-style:none}li.post-item .meta{font-size:85%;padding-right:6px;font-family:monospace;display:inline-block;width:78px;text-align:right}li.post-item a{font-family:monospace;font-size:110%;color:#b3befe}li.post-item.no-bullet{padding-top:8px}body{background-color:#333;color:#eee}pre{background-color:#272822}code{max-width:98%;text-wrap-mode:wrap}footer{color:#555}header h1{text-transform:uppercase;font-family:fangsong,sans-serif;border-left:3px solid #3facfe;color:rgba(255,255,255,.8);display:inline-block;margin:2px;padding:0 8px}</style></head><body lang><section class="main post"><div class=container><div class=content><div class=front-matter><div class=title-container><h2>成功把 Ajax 提交评论效果添加到 Zbench</h2></div><div class=meta><div class=date title='Thu Jul 22 2010 02:05:25 +0800'>Jul 22, 2010</div><div class=reading-time><div class=middot></div></div></div></div><div class=markdown><blockquote><p>以下内容恢复自 Wordpress 时期的数据库备份，内容已经严重过期，仅留作纪念。</p></blockquote><hr><p>话说我碰巧在 5d6d 子论坛看到个很牛的 Ajax 评论提交效果，显示非常好，与一般提交几乎一样呢。所以立马开始动手折腾。不过具体折腾内容我只能透露一部分额，不然影响原作者的销售就不好了。</p><p>&lt;img src='http://www.evlos.org/ev-box/myimg/uploads/Cap0000535.png' /></p><h2 id=部分-zbench-的-css-修正>部分 Zbench 的 CSS 修正</h2><p>上次的修改还是没有达到我心中的完美样式，所以咱们继续补充，添加 Wp-pagenavi 的 CSS 代码。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>wp-pagenavi</span> .<span style=color:#a6e22e>page</span>{<span style=color:#66d9ef>padding</span>:<span style=color:#ae81ff>0</span> <span style=color:#ae81ff>4</span><span style=color:#66d9ef>px</span>;}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>wp-pagenavi</span> .<span style=color:#a6e22e>pages</span>{<span style=color:#66d9ef>padding-right</span>:<span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>wp-pagenavi</span> .<span style=color:#a6e22e>current</span>{<span style=color:#66d9ef>padding</span>:<span style=color:#ae81ff>0</span> <span style=color:#ae81ff>4</span><span style=color:#66d9ef>px</span>;}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>wp-pagenavi</span> .<span style=color:#a6e22e>nextpostslink</span>{<span style=color:#66d9ef>padding</span>:<span style=color:#ae81ff>0</span> <span style=color:#ae81ff>4</span><span style=color:#66d9ef>px</span>;}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>wp-pagenavi</span> .<span style=color:#a6e22e>larger</span>{}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>wp-pagenavi</span> .<span style=color:#a6e22e>last</span>{<span style=color:#66d9ef>padding</span>:<span style=color:#ae81ff>0</span> <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>;}
</span></span><span style=display:flex><span><span style=color:#f92672>//</span><span style=color:#960050;background-color:#1e0010>补上</span> <span style=color:#f92672>Wp-pagenavi</span> <span style=color:#960050;background-color:#1e0010>插件的</span> <span style=color:#f92672>CSS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>post</span> .<span style=color:#a6e22e>entry</span> <span style=color:#f92672>img</span>{<span style=color:#66d9ef>position</span>:<span style=color:#66d9ef>relative</span>;<span style=color:#66d9ef>left</span>:<span style=color:#ae81ff>-2</span><span style=color:#66d9ef>px</span>;}
</span></span><span style=display:flex><span><span style=color:#f92672>//</span><span style=color:#960050;background-color:#1e0010>文章中图片整体向左偏移</span> <span style=color:#f92672>2px</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#footer-inside #back-to-top{<span style=color:#66d9ef>position</span>:<span style=color:#66d9ef>absolute</span>;<span style=color:#66d9ef>top</span>:<span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>;<span style=color:#66d9ef>right</span>:<span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>;<span style=color:#66d9ef>font-size</span>:<span style=color:#ae81ff>12</span><span style=color:#66d9ef>px</span>;<span style=color:#66d9ef>border</span>:<span style=color:#66d9ef>none</span>;<span style=color:#66d9ef>color</span>:<span style=color:#ae81ff>#AAA</span>;}
</span></span><span style=display:flex><span><span style=color:#f92672>//</span><span style=color:#f92672>TOP</span><span style=color:#960050;background-color:#1e0010>按键向右偏移</span> <span style=color:#f92672>20px</span>
</span></span></code></pre></div><h2 id=ajax-效果预览>Ajax 效果预览</h2><p>标题下方的图片是进行 AJAX 提交之后的效果图，看起来和无 AJAX 提交的时候的效果几乎一摸一样。
下面则是点击提交按键之后的效果。</p><p>&lt;img src='http://www.evlos.org/ev-box/myimg/uploads/Cap0000534.png' /></p><h2 id=添加-ajax-效果的部分步骤>添加 Ajax 效果的部分步骤</h2><p>我只能透露一部分的修改过程，需要的童鞋请到 &lt;a target='_blank' rel='nofollow' href='http://zww.me/'>Zww 的淘宝店去看看，那里有提供服务。</p><p>额，虽然那里的效果可能有一点儿不同，不过也是很好滴，下面提供Zww的淘宝店传送门 -</p><p>&lt;a target='_blank' rel='nofollow' href='http://item.taobao.com/auction/item_detail-0db1-f7c8975a70ef482efd2d90754d09a9a5.jhtml'>http://item.taobao.com/auction/item_detail-0db1-f7c8975a70ef482efd2d90754d09a9a5.jhtml</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>#commentbox_reload{<span style=color:#66d9ef>background</span>:<span style=color:#ae81ff>#F2F2F2</span>;<span style=color:#66d9ef>display</span>:<span style=color:#66d9ef>none</span>;<span style=color:#66d9ef>padding-left</span>:<span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>;<span style=color:#66d9ef>border</span>:<span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#ae81ff>#ccc</span>;<span style=color:#66d9ef>line-height</span>:<span style=color:#ae81ff>40</span><span style=color:#66d9ef>px</span>;<span style=color:#66d9ef>margin</span>:<span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>auto</span>;}
</span></span><span style=display:flex><span><span style=color:#f92672>//</span><span style=color:#960050;background-color:#1e0010>首先我们增加一个载入提示框的样式</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>commentbox_reload_con</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>//然后用上面的 div 把整个评论列表范围框住以实现 jQuery 的局部刷新
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>text/javascript</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>http://tool.evlos.org/file/jquery-1.2.6.min.js</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>//载入 jQuery 库，使用 1.0 版本以上的皆可以实现
</span></span><span style=display:flex><span>//再载入包含局部刷新代码的 js 文件，为保护原作者成果这里并不列举
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>commentbox_reload</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>//最后在适当地方加入载入提示框的 div 即可
</span></span></code></pre></div><h2 id=willin-回复邮件通知-evlos-样式修改版>Willin 回复邮件通知 Evlos 样式修改版</h2><p>嘿嘿，因为没有提供具体的 Ajax 代码，作为补偿。我把自己的评论回复邮件通知样式送给大家。</p><p>&lt;img src='http://www.evlos.org/ev-box/myimg/uploads/Cap0000537.png' /></p><p>&lt;a target='_blank' rel='nofollow' href='http://code.google.com/p/evlosbox/downloads/detail?name=cmn_cssed.zip&amp;can=2&amp;q='>http://code.google.com/p/evlosbox/downloads/detail?name=cmn_cssed.zip&amp;can=2&amp;q=</p><h2 id=附言>附言</h2><p>参考文章
Comment Mail Notify &lt;a target='_blank' rel='nofollow' href='http://kan.willin.org/?p=1295'>http://kan.willin.org/?p=1295</p><p>某天看到 Lazy_R 在推上说道 - “作为一个懒人，我躺在完全没收拾的沙发上，身下压着衣服撑子。我懒得翻身把撑子抽出来。不过我还不是丧心病狂嘛，我还知道把这个发到twitter上，说明我还是有感觉的 …”</p><br><p class=back-to-posts><a href=/>[back]</a></p></div><br></div></div></section>