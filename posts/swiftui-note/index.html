<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Icon Image(systemName: &#34;star.fill&#34;).imageScale(.medium).foregroundColor(.yellow) Bool bool.toggle() Binding @State private var isPlaying: Bool = false PlayButton(isPlaying: $isPlaying) struct PlayButton : View { @Binding var isPlaying: Bool OnReceive .onReceive(PodcastPlayer.currentTimePublisher) { newCurrentTime in self.currentTime = newCurrentTime } Weak DispatchQueue.main.async { [weak self] in DispatchQueue.global(qos: .background).async { [weak self] in guard let strongSelf = self else { return } weak var owner: Person? https://www.appcoda.com/memory-management-swift/
Product > Profile > Leaks
UI Tweaking .padding([.leading, .trailing]) .font(.caption) HStack { Text(&#34;Delicious&#34;) Image(&#34;20x20_avocado&#34;) Text(&#34;Avocado Toast&#34;)."><meta property="og:title" content="SwiftUI Note"><meta property="og:description" content="Icon Image(systemName: &#34;star.fill&#34;).imageScale(.medium).foregroundColor(.yellow) Bool bool.toggle() Binding @State private var isPlaying: Bool = false PlayButton(isPlaying: $isPlaying) struct PlayButton : View { @Binding var isPlaying: Bool OnReceive .onReceive(PodcastPlayer.currentTimePublisher) { newCurrentTime in self.currentTime = newCurrentTime } Weak DispatchQueue.main.async { [weak self] in DispatchQueue.global(qos: .background).async { [weak self] in guard let strongSelf = self else { return } weak var owner: Person? https://www.appcoda.com/memory-management-swift/
Product > Profile > Leaks
UI Tweaking .padding([.leading, .trailing]) .font(.caption) HStack { Text(&#34;Delicious&#34;) Image(&#34;20x20_avocado&#34;) Text(&#34;Avocado Toast&#34;)."><meta property="og:type" content="article"><meta property="og:url" content="/posts/swiftui-note/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-01-03T15:02:43+08:00"><meta property="article:modified_time" content="2020-01-03T15:02:43+08:00"><title>SwiftUI Note</title><link rel=canonical href=/posts/swiftui-note/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-66839894-6"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-66839894-6")</script></head><body lang><section class="main post"><div class=container><div class=content><div class=front-matter><div class=title-container><h2>SwiftUI Note</h2></div><div class=meta><div class=date title="Fri Jan 3 2020 15:02:43 +0800">Jan 3, 2020</div><div class=reading-time><div class=middot></div></div></div></div><div class=markdown><h2 id=icon>Icon</h2><pre tabindex=0><code>Image(systemName: &#34;star.fill&#34;).imageScale(.medium).foregroundColor(.yellow)
</code></pre><h2 id=bool>Bool</h2><pre tabindex=0><code>bool.toggle()
</code></pre><h2 id=binding>Binding</h2><pre tabindex=0><code>@State private var isPlaying: Bool = false

PlayButton(isPlaying: $isPlaying)
</code></pre><pre tabindex=0><code>struct PlayButton : View {

@Binding var isPlaying: Bool
</code></pre><h2 id=onreceive>OnReceive</h2><pre tabindex=0><code>.onReceive(PodcastPlayer.currentTimePublisher) { newCurrentTime in
  self.currentTime = newCurrentTime
}
</code></pre><h2 id=weak>Weak</h2><pre tabindex=0><code>DispatchQueue.main.async { [weak self] in
DispatchQueue.global(qos: .background).async { [weak self] in
  guard let strongSelf = self else { return }

weak var owner: Person?
</code></pre><p><a href=https://www.appcoda.com/memory-management-swift/>https://www.appcoda.com/memory-management-swift/</a></p><p>Product > Profile > Leaks</p><h2 id=ui-tweaking>UI Tweaking</h2><pre tabindex=0><code>.padding([.leading, .trailing])
.font(.caption)

HStack {
 Text(&#34;Delicious&#34;)
 Image(&#34;20x20_avocado&#34;)
 Text(&#34;Avocado Toast&#34;).layoutPriority(1) // so it will not be compressed when HStack width is not enough
}
.lineLimit(1)
</code></pre><p>237_building_custom_views_with_swiftui.pdf</p><p>// Animation and draw grphaic</p><pre tabindex=0><code>List(previousOrders) { order in
 HStack {
 VStack(alignment: .leading) {
 Text(order.summary)
 Text(order.purchaseDate)
 .font(.subheadline)
 .foregroundColor(.secondary)
 }
 Spacer()
 if order.includeSalt {
 SaltIcon()
 }
 }
}

struct IconOrientationEditor : View {
 let flipped: Bool
 var body: some View {
 ZStack {
 Color.gray
 AppIcon()
 .rotationEffect(.degrees(flipped ? 180 : 0))
 }
 }
}

Form {
 Button(action: submitOrder) { Text(&#34;Order&#34;) }
 Section(header: ) { Text(&#34;Avocado Toast&#34;).font(.title)
 }.
 Toggle(isOn: $order.includeSalt) { }
 Toggle(isOn: $order.includeRedPepperFlakes) { }
 Stepper(value: $order.quantity, in: 1...10) { }
 }
 Section {
 Button(action: submitOrder) { Text(&#34;Order&#34;) }
 }
}

Button(action: submitOrder) {
 VStack {
 Image(&#34;Toast&#34;)
 Text(&#34;Order&#34;)
 }
}

@State private var order: Order
struct Order {

enum Spread : CaseIterable, Hashable, Identifiable {
 case none
 case almondButter
 case peanutButter
 case honey
 case almou
 case tapenade
 case hummus
 case mayonnaise
 case kyopolou
 case adjvar
 case pindjur
 case vegemite
 case chutney
 case cannedCheese
 case feroce
 case kartoffelkase
 case tartarSauce
}
Picker(selection: $order.spread, label: Text(&#34;Spread&#34;)) {
 ForEach(Spread.allCases) { spread in
 Text(spread.name).tag(spread)
 }.
}

Button(action: submitOrder) { Text(&#34;Order&#34;) }
 .disabled(order.quantity == 0)
Toggle(isOn: $order.includeSalt) {}

Form {}
.accentColor(Color(&#34;avocadoGreen&#34;))
.disabled(!connectedToToastNetwork)
</code></pre><p>216_swiftui_essentials.pdf</p><h2 id=combine>Combine</h2><pre tabindex=0><code>@Published var username: String = &#34;&#34;
var validatedUsername: AnyPublisher&lt;String?, Never&gt; {
 return $username
 .debounce(for: 0.5, scheduler: RunLoop.main)
 .removeDuplicates()
 .flatMap { username in
 return Future { promise in
 self.usernameAvailable(username) { available in
 promise(.success(available ? username : nil))
 }
 }
 }
 .eraseToAnyPublisher()
}

@Published var password: String = &#34;&#34;
@Published var passwordAgain: String = &#34;&#34;
var validatedPassword: AnyPublisher&lt;String?, Never&gt; {
 return CombineLatest($password, $passwordAgain) { password, passwordAgain in
 guard password == passwordAgain, password.count &gt; 8 else { return nil }
 return password
 }
 .map { $0 == &#34;password1&#34; ? nil : $0 }
 .eraseToAnyPublisher()
}

var validatedCredentials: AnyPublisher&lt;(String, String)?, Never&gt; {
 return CombineLatest(validatedUsername, validatedPassword) { username, password in
 guard let uname = username, let pwd = password else { return nil }
 return (uname, pwd)
 }
 .eraseToAnyPublisher()
}

@IBOutlet var signupButton: UIButton!
var signupButtonStream: AnyCancellable?
override func viewDidLoad() {
 super.viewDidLoad()
 self.signupButtonStream = self.validatedCredentials
 .map { $0 != nil }
 .receive(on: RunLoop.main)
 .assign(to: \.isEnabled, on: signupButton)
}
</code></pre><h2 id=resources>Resources</h2><ul><li><a href=https://www.jianshu.com/p/441930138de2>https://www.jianshu.com/p/441930138de2</a></li><li><a href=https://fuckingswiftui.com/>https://fuckingswiftui.com/</a></li><li><a href=https://www.hackingwithswift.com/quick-start/swiftui>https://www.hackingwithswift.com/quick-start/swiftui</a></li><li><a href=https://www.hackingwithswift.com/100/swiftui>https://www.hackingwithswift.com/100/swiftui</a></li><li><a href=https://swiftui-lab.com/>https://swiftui-lab.com/</a></li><li><a href=https://swiftui-lab.com/custom-styling/>https://swiftui-lab.com/custom-styling/</a></li></ul><br><p class=back-to-posts><a href=/>[back]</a></p></div><br></div></div></section>